<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head th:replace="~{fragments/head :: head('User details')}"></head>

<body class="bg-dark">

    <header>
        <nav th:replace="~{fragments/navbar :: navbar}"></nav>
    </header>



    <!-- main -->
    <main>
        <section class="container mt-5 col-6">
            <div class="col-12">
                <h1 class="text-center text-light mb-5">
                    User details
                </h1>
            </div>



            <!-- card -->
            <div class="card text-bg-dark border-secondary" th:object="${user}">
                <div class="card-body">
                    <h5 class="card-title">Username: [[${user.userName}]]</h5>
                    <h5 class="card-title mb-3">Password: [[*{password}]]</h5>
                    <h6 class="card-subtitle text-secondary mb-3">Roles: <span th:each="role : *{roles}">
                            [[${role.title}]]
                        </span>
                    </h6>
                    <h6 class="card-subtitle text-secondary mb-5"> Status: [[*{userStatus.name}]]</h6>

                    <div th:if="*{tickets.size() > 0}">
                        <h5 class="card-title">Assigned tickets:</h5>
                        <hr>

                        <ul>
                            <li th:each="ticket : *{tickets}">
                                <div class="d-flex justify-content-between">
                                    [[${ticket.title}]]
                                    <span class="text-secondary">
                                        [[${ticket.category.name}]]
                                    </span>
                                    <span class="text-secondary">
                                        Creation date: [[${ticket.creationDate}]]
                                    </span>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <hr>

                </div>

                <!-- go back button -->
                <div class="text-center">
                    <a th:href="@{/users}" class="btn btn-sm btn-outline-secondary mb-4">
                        <i class="bi bi-arrow-90deg-left"></i> Return
                    </a>
                </div>
            </div>

        </section>
















    </main>
    <!-- end main -->

    <footer>

    </footer>


    <script th:replace="~{fragments/popper :: popper}"></script>
</body>

</html>